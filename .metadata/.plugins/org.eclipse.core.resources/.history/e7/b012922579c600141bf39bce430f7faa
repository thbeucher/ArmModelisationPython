from ArmModel.FileReading import *
from Regression.functionApproximator_LWR import *


#Lecture des fichiers de trajectoire
fileR = FileReading()
nameFile, nbFile = fileR.recup_data()

#Recuperation des commandes
u1 = []
u2 = []
u3 = []
u4 = []
u5 = []
u6 = []

#Boucle de traitement pour generer le controleur
i = 0
nbFeat = 10
funApprox = fa_lwr(nbFeat)
while i < nbFile:
    nameFileTemp = nameFile + str(i+1)
    fileR.tabActivationMuscu(i, nameFileTemp, data_store)
    #Boucle de traitement pour chaque activation musculaire
    k = 0
    while k < 6:
        funApprox.train_LWR(data_store[str(nameFileTemp + "_state")], fileR.uCommand[str("u" + str(k+1))])
        k += 1
    i += 1
    
    
    
    
    
    